**Управление версиями (Version Control), также известное как контроль версий или управление исходным кодом (Source Code Management, SCM)** — это практика отслеживания и управления изменениями в исходном коде, документации и других артефактах проекта на протяжении всего его жизненного цикла. Это **фундаментальная технология** современной коллективной разработки, без которой невозможны Agile, DevOps и CI/CD.

управление версиями рассматривается как ключевой процесс **менеджмента конфигурации ПО** ([[ISO 12207]]), цель которого — обеспечить целостность и доступность всех компонентов проекта для заинтересованных сторон.

### **I. Цели и задачи управления версиями**

1. **Сохранение истории изменений** - Хранение всех версий файлов, что позволяет в любой момент вернуться к предыдущему состоянию, увидеть, кто, когда и зачем внес изменение.
2. **Поддержка параллельной разработки** - Возможность для нескольких разработчиков работать над одним проектом одновременно, не мешая друг другу.
3. **Разрешение конфликтов** - Предоставление инструментов для слияния (merge) изменений, сделанных разными разработчиками в один и тот же файл.
4. **Ветвление и слияние (Branching & Merging)** - Создание изолированных линий разработки (веток) для новых функций, экспериментов или исправления ошибок в старых версиях с последующим безопасным объединением в основную линию.
5. **Резервное копирование и восстановление** - Хранилище кода выступает как централизованная резервная копия.
6. **Трассируемость** - Связь изменений кода с задачами (issue tracking) через коммиты (например, «исправлена ошибка такая-то»).
### **II. Ключевые концепции**

1. **Репозиторий (Repository / Repo)** - База данных, хранящая все файлы проекта и полную историю их изменений. Может быть **локальным** (на компьютере разработчика) и **удаленным** (централизованным, например, на GitHub).
2. **Рабочая копия (Working Copy)** - Локальная копия файлов проекта на компьютере разработчика, с которой он непосредственно работает
3. **Коммит (Commit / Revision)** - Факт фиксации набора изменений в репозитории. Каждый коммит имеет уникальный идентификатор (хеш), автора, дату и комментарий.
4. **Ветка (Branch)** - Независимая линия разработки. По умолчанию создается главная ветка (часто `main` или `master`). Новая ветка — это копия кода в определенный момент времени.
5. **Слияние (Merge)** - Процесс интеграции изменений из одной ветки в другую.
6. **Конфликт слияния (Merge Conflict)** - Ситуация, когда система не может автоматически объединить изменения из разных веток (например, две правки в одной строке кода). Требует ручного разрешения разработчиком.
### **III. Модели управления версиями**

1. **Централизованная (Centralized VCS):** Примеры: **SVN (Subversion), CVS**.
	Существует единый центральный сервер-репозиторий. Разработчики получают из него рабочие копии, вносят изменения и отправляют (commit) их обратно на сервер.
	**Плюсы:** Простая модель, централизованный контроль
	**Минусы:** Единая точка отказа (сервер), зависимость от сети для большинства операций, менее гибкая работа с ветками.
2. **Распределенная (Distributed VCS — DVCS):** Примеры: **Git, Mercurial**. **Git является стандартом де-факто**
	Каждый разработчик имеет **полную локальную копию репозитория** со всей историей. Работа возможна оффлайн. Изменения обмениваются между репозиториями (например, через `push` и `pull`).
	**Плюсы:** Высокая скорость, работа без сети, нет единой точки отказа, мощные возможности ветвления и слияния.
	**Минусы:** Более сложная модель для понимания новичками.
### **IV. Git — как основной инструмент**

1. **Архитектура Git**
	**Рабочая директория (Working Directory)** -  Файлы, с которыми вы работаете.
	**Область подготовленных файлов (Staging Area / Index)** - Промежуточное место, куда добавляются изменения, предназначенные для следующего коммита. Позволяет формировать коммит из выбранных изменений.
	**Локальный репозиторий (Local Repository)** - Папка `.git`, содержащая всю историю и метаданные. После коммита изменения сохраняются здесь.
	**Удаленный репозиторий (Remote Repository)** - Общий репозиторий на сервере (GitHub, GitLab, GitVerse).
2. **Базовый рабочий цикл в Git**
	`git add <файлы>` — добавить изменения в staging area.
	`git commit -m "сообщение"` — зафиксировать изменения в локальном репозитории.
	`git push` — отправить локальные коммиты в удаленный репозиторий
	`git pull` — получить изменения из удаленного репозитория и слить с локальной рабочей копией.
	`git checkout -b <имя_ветки>` — создать новую ветку и переключиться на неё.
	`git merge <ветка>` — слить указанную ветку с текущей.
3. **Платформы для совместной работы на основе Git**
	**GitHub** - Наиболее популярная облачная платформа. Предоставляет хостинг репозиториев, **pull requests** (запросы на слияние), **code review**, **GitHub Actions (CI/CD)**, управление проектами
	**GitLab, GitVerse, GitFlic** - Альтернативы, предлагающие схожий или дополнительный функционал, иногда с фокусом на приватность или русскоязычную аудиторию.
### **V. Стратегии ветвления (Workflow)**

Это набор соглашений о том, как команда использует ветки и слияния.
1. **Git Flow** -  Сложная модель с фиксированными типами веток (`main`, `develop`, `feature/*`, `release/*`, `hotfix`). Хороша для проектов с строгим циклом релизов.
2. **GitHub Flow / GitLab Flow (Более простая и популярная в Agile)**
	Ветка `main` всегда в готовом к деплою состоянии.
	Для любой новой задачи создается **ветка от `main`**
	После завершения работы создается **Pull Request (PR) / Merge Request (MR)**.
	После **ревью кода** и прохождения CI ветка сливается в `main` и сразу деплоится (или готовится к деплою).
3. **Trunk-Based Development**
	Минималистичный подход, при котором разработчики работают в одной короткоживущей ветке (`main`/`trunk`), часто коммитя в нее напрямую (с обязательными CI и feature toggles). Нацелен на максимально частую интеграцию.
### **VI. Роль в DevOps и CI/CD**

Управление версиями — это **основа** для DevOps-практик:
- **Infrastructure as Code (IaC):** Конфигурация серверов и сред также хранится в репозитории (например, Dockerfile, Terraform-скрипты).
- **Непрерывная интеграция (CI):** При каждом `push` в репозиторий автоматически запускается сборка (`build`) и прогоняются тесты.
- **Непрерывная доставка/развертывание (CD):** Код из определенной ветки (например, `main`) может быть автоматически развернут в тестовую или продуктивную среду.
- **Код-ревью:** Pull Request становится центральной точкой для обсуждения кода перед его слиянием.
### **Вывод**

Управление версиями — это не просто «сохранение резервных копий», а **инфраструктурный стержень** современной разработки ПО. Оно обеспечивает:
- **Контроль** за эволюцией кода.
- **Коллаборацию** в команде любого размера.
- **Автоматизацию** процессов сборки, тестирования и развертывания (CI/CD).
- **Качество** через механизмы code review и трассируемости изменений.

Владение **Git** и понимание принципов работы с ветками является **обязательным навыком** для любого участника ИТ-проекта, от разработчика до менеджера. Без эффективного управления версиями невозможны ни быстрые итерации, ни поддержание стабильности продукта, ни масштабирование командной работы.